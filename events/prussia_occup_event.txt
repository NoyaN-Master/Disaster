add_namespace = preo

country_event = { # polish puppeting
	id = preo.1
	title = preo.1.t
	desc = preo.1.d
	fire_only_once = yes
	trigger = {
	tag = PRE
	NOT = {PLN = {exists = yes}}
	owns_state = 809
	owns_state = 85
	owns_state = 86
	owns_state = 762
	owns_state = 808
	}
	immediate = {
		hidden_effect = {
		add_state_claim = 809
		add_state_claim = 85
		add_state_claim = 86
		add_state_claim = 762
		PLN = {
		remove_ideas = {
            PLN_free_at_fast
            PLN_minorities_and_borders 
            PLN_leftist_organizations   
            PLN_catholic_support    
            }
		}		
		}
	}
	option = {
		name = preo.1.a     # normal occupation
		ai_chance = { factor = 1}
		set_temp_variable = { tag_to_release = PLN }
		every_owned_state = {
			limit = {
				is_core_of = PLN
				is_claim_or_core_of_ROOT = no
				NOT = {
					state = 809 
					state = 85 
					state = 86 
					state = 762
				}
			}
			var:tag_to_release = { transfer_state = PREV }
		}
		puppet_released_tag = yes
		PLN = {
		set_politics = {
			ruling_party = ultranationalist
			elections_allowed = no
		}
		add_popularity = {
			ideology = ultranationalist
			popularity = 0.50
		}
		set_party_name = {
			ideology = ultranationalist
			name = POL_authoritarian_democrat_occupation
		}
			retire_country_leader = yes
			create_country_leader = {
	        name = "Andrzej Swietlicki"
	        desc = "Andrzej_Swietlicki_desc"
	        picture = "gfx/leaders/PLN/Andrzej_Swietlicki.png"
	        expire = "2020.1.1"
	        ideology = ultranationalist_subideology
	        traits = {
	        }
            }		
		add_stability = -0.25
		add_war_support = -0.25
		add_ideas = volunteer_only 
		add_ideas = corporatism 
		add_ideas = oligarchy   
		}
		complete_national_focus = PRE_puppet_poland
		add_ideas = PRE_polish_terrorism
	}
	option = {
		name = preo.1.b     # generalplan ost
		ai_chance = { factor = 1}
		set_temp_variable = { tag_to_release = PLN }
		every_owned_state = {
			limit = {
				is_core_of = PLN
				is_claim_or_core_of_ROOT = no
				NOT = {
					state = 809 
					state = 85 
					state = 86 
					state = 762
				}
			}
			var:tag_to_release = { transfer_state = PREV }
		}
		puppet_released_tag = yes
		PLN = {
		set_cosmetic_tag = PLN_occupation
		set_politics = {
			ruling_party = revolutionary_nationalist
			elections_allowed = no
		}
		add_popularity = {
			ideology = revolutionary_nationalist
			popularity = 0.50
		}
		set_party_name = {
			ideology = revolutionary_nationalist
			name = POL_revolutionary_nationalist_occupation
		}
			retire_country_leader = yes
			create_country_leader = {
	        name = "Hans Frank"
	        desc = "Hans_Frank_desc"
	        picture = "gfx/leaders/PLN/Hans_Frank.png"
	        expire = "2020.1.1"
	        ideology = revolutionary_nationalist_subideology
	        traits = {
	        }
            }	
		add_stability = -0.5
		add_war_support = -0.5
		add_ideas = PRE_RK_idea_disable_recruitment_and_ideas
		add_ideas = volunteer_only 
		add_ideas = corporatism 
		add_ideas = military_government  
		}
		complete_national_focus = PRE_generalplan_ost
		add_ideas = PRE_polish_terrorism
		809 = {add_dynamic_modifier = { modifier = polish_resistance }}
		85 = {add_dynamic_modifier = { modifier = polish_resistance }}
		86 = {add_dynamic_modifier = { modifier = polish_resistance }}
		762 = {add_dynamic_modifier = { modifier = polish_resistance }}
		hidden_effect = {
		country_event = { id = preo.4 days = 15 }				
		}	
	}
}

country_event = { # Czech puppeting
	id = preo.2
	title = preo.2.t
	desc = preo.2.d
	fire_only_once = yes
	trigger = {
	tag = PRE
	NOT = {CEZ = {exists = yes}}
	owns_state = 69
	owns_state = 74
	owns_state = 9
	owns_state = 75
	}
	immediate = {
		hidden_effect = {
		add_state_claim = 69
		add_state_claim = 74		
		}
	}
	option = {
		name = preo.2.a     # generalplan ost for czechs
		ai_chance = { factor = 1}
		set_temp_variable = { tag_to_release = CEZ }
		every_owned_state = {
			limit = {
				is_core_of = CEZ
				is_claim_or_core_of_ROOT = no
				NOT = {
					state = 69 
					state = 74 
				}
			}
			var:tag_to_release = { transfer_state = PREV }
		}
		puppet_released_tag = yes
		CEZ = {
		set_cosmetic_tag = CEZ_occupation
		set_politics = {
			ruling_party = revolutionary_nationalist
			elections_allowed = no
		}
		add_popularity = {
			ideology = revolutionary_nationalist
			popularity = 0.50
		}
		set_party_name = {
			ideology = revolutionary_nationalist
			name = POL_revolutionary_nationalist_occupation
		}
			retire_country_leader = yes
			create_country_leader = {
	        name = "Otto Skorzeny"
	        desc = "Otto_Skorzeny_desc"
	        picture = "gfx/leaders/CEZ/otto.png"
	        expire = "2020.1.1"
	        ideology = revolutionary_nationalist_subideology
           }	
		add_stability = -0.5
		add_war_support = -0.5
		add_ideas = PRE_RK_idea_disable_recruitment_and_ideas
		add_ideas = volunteer_only 
		add_ideas = corporatism 
		add_ideas = military_government  
		}
#		complete_national_focus = PRE_generalplan_ost
	}
}
country_event = { #german polish reapproachment population exchange
	id = preo.3
	title = preo.3.t
	desc = preo.3.d
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = preo.3.a
		ai_chance = { factor = 1}
	809 = {
	add_manpower = -10000
	add_compliance = 20
	}
	808 = {
	add_manpower = 10000
	}
	85 = {
	add_manpower = -100000
	add_compliance = 20
	}
	808 = {
	add_manpower = 100000
	}
	86 = {
	add_manpower = -250000
	add_compliance = 20
	}
	808 = {
	add_manpower = 250000
	}
	762 = {
	add_manpower = -50000
	add_compliance = 20
	}
	808 = {
	add_manpower = 50000
	}
	add_political_power = -50
	add_stability = 0.05
	}
}
country_event = { #hans frank meme
	id = preo.4
	title = preo.4.t
	desc = preo.4.d
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = preo.4.a
		ai_chance = { factor = 1}
	add_political_power = 1
	add_stability = 0.01
	}
}
country_event = { #splitting up generaal gouvernment
	id = preo.5
	title = preo.5.t
	desc = preo.5.d
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = preo.5.a
		ai_chance = { factor = 1}
		if = {
		limit = {
		95 = { is_owned_by = PLN }
		96 = { is_owned_by = PLN }
		PLN = { is_puppet_of = PRE}
		}
		95 = {transfer_state_to = WHR}
		96 = {transfer_state_to = WHR}
		release_puppet = WHR
		}
		PLN = {
		set_cosmetic_tag = PLN_ger_ukraine
			retire_country_leader = yes
			create_country_leader = {
	        name = "Otto Gustav von Wächter"
	        desc = "Otto_Gustav_von_Wächter_desc"
	        picture = "gfx/leaders/PLN/Otto_Wachter.png"
	        expire = "2020.1.1"
	        ideology = revolutionary_nationalist_subideology
           }		
		} 
	}
}
country_event = { # fate of austria
	id = preo.6
	title = preo.6.t
	desc = preo.6.d
	fire_only_once = yes
	trigger = {
	tag = PRE
	NOT = {AUT = {exists = yes}}
	owns_state = 813
	owns_state = 881
	owns_state = 152
	}
	option = {
		name = preo.6.a     # puppet state of austria
		ai_chance = { factor = 1}
		set_temp_variable = { tag_to_release = AUT }
		every_owned_state = {
			limit = {
				is_core_of = AUT
				is_claim_or_core_of_ROOT = no
			}
			var:tag_to_release = { transfer_state = PREV }
		}
		puppet_released_tag = yes
		AUT = {
		set_politics = {
			ruling_party = ultranationalist
			elections_allowed = no
		}
		add_popularity = {
			ideology = ultranationalist
			popularity = 0.10
		}		
		}
		complete_national_focus = PRE_little_german_solution
	}
	option = {
		name = preo.6.b     # annexation of austria
		ai_chance = { factor = 1}

		complete_national_focus = PRE_anschluss
		every_owned_state = {
			limit = {
				is_core_of = AUT
				is_claim_or_core_of_ROOT = no
			}
			add_dynamic_modifier = { modifier = austrian_defiance }
		}		
	}
}
country_event = { #start of germanization of bohemian crownlands
	id = preo.7
	title = preo.7.t
	desc = preo.7.d
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = preo.7.a
		ai_chance = { factor = 1}
	add_political_power = 10
	hidden_effect = {
	country_event = { id = preo.8 days = 100 }		
	}
	9 = {
	add_compliance = 5
	add_resistance = 20
	}	
	75 = {
	add_compliance = 5
	add_resistance = 20
	}
	}
}
country_event = { #finally germanized
	id = preo.8
	title = preo.8.t
	desc = preo.8.d
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = preo.8.a
		ai_chance = { factor = 1}
	add_state_core = 9
	add_state_core = 75
	}
}